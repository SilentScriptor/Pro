local function SafeGet(url)
    local success, response = pcall(function()
        return game:HttpGet(url)
    end)
    if success then
        return response
    else
        warn("‚ùå Failed to GET:", url, "| Error:", response)
        return nil
    end
end

local RayfieldSource = SafeGet("https://raw.githubusercontent.com/SiriusSoftwareLtd/Rayfield/main/source.lua")
if not RayfieldSource then
    error("Rayfield failed to load - check your connection or Rayfield's URL.")
end

local Rayfield = loadstring(RayfieldSource)()

local Window = Rayfield:CreateWindow({
    Name = "Pro Hub - v3",
    LoadingTitle = "Pro Hub",
    LoadingSubtitle = "by Mike",
    Theme = "Default",
    ConfigurationSaving = {
       Enabled = true,
       FileName = "ProHubConfig"
    },
})

-- Teleport Tab
local TeleportTab = Window:CreateTab("Teleports", 4483362458)

-- Teleport to Player
local Players = {}
for _, player in ipairs(game.Players:GetPlayers()) do
    table.insert(Players, player.Name)
end

local SelectedPlayer = Players[1] or "Player"

game.Players.PlayerAdded:Connect(function(player)
    table.insert(Players, player.Name)
end)

game.Players.PlayerRemoving:Connect(function(player)
    for i, name in ipairs(Players) do
        if name == player.Name then
            table.remove(Players, i)
        end
    end
end)

TeleportTab:CreateDropdown({
    Name = "Select Player",
    Options = Players,
    CurrentOption = SelectedPlayer,
    Callback = function(Option)
        SelectedPlayer = Option
    end,
})

TeleportTab:CreateButton({
    Name = "Teleport to Player",
    Callback = function()
        local targetPlayer = game.Players:FindFirstChild(SelectedPlayer)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
        else
            Rayfield:Notify({Title = "Error", Content = "Player not found or not fully loaded.", Duration = 3})
        end
    end,
})

-- Teleport to Part
TeleportTab:CreateInput({
    Name = "Part Name",
    PlaceholderText = "Enter part name",
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        _G.TargetPart = Text
    end,
})

TeleportTab:CreateButton({
    Name = "Teleport to Part",
    Callback = function()
        local part = workspace:FindFirstChild(_G.TargetPart, true)
        if part and part:IsA("BasePart") then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = part.CFrame
        else
            Rayfield:Notify({Title = "Error", Content = "Part not found!", Duration = 3})
        end
    end,
})

-- Other Scripts Tab
local OtherScriptsTab = Window:CreateTab("Other Scripts", 4483362458)

OtherScriptsTab:CreateButton({
    Name = "Execute Infinite Yield",
    Callback = function()
        loadstring(SafeGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    end,
})

-- Add more external scripts here if you want, like:
-- OtherScriptsTab:CreateButton({
--     Name = "Execute Dex Explorer",
--     Callback = function()
--         loadstring(SafeGet("https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"))()
--     end,
-- })

Rayfield:LoadConfiguration()
